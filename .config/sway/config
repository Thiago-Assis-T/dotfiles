# --- Environment ---
# Set Wayland environment variables (if not already set in profile)
# These may need to be exported before launching Sway

#######################################################################
#                         SWAY CONFIG                                 #
#                     Tokyo Night Color Scheme                        #
#                           with Waybar                                #
#######################################################################

### Variables: Tokyo Night Color Scheme
# Background
set $bg      "#1a1b26"
# Foreground
set $fg      "#c0caf5"
# Blue accent
set $accent  "#7aa2f7"
# Green
set $green   "#9ece6a"
# Red
set $red     "#f7768e"
# Yellow
set $yellow  "#e0af68"
# Border
set $border  "#414868"
# Urgent (purple)
set $urgent  "#bb9af7"

### Font
font pango:JetBrainsMono Nerd Font 10

### Input Configuration
input type:touchpad {
    tap enabled
    natural_scroll disabled
    dwt enabled
}


input * xkb_layout br

### Output Configuration
# Replace eDP-1 with your actual output name from `swaymsg -t get_outputs`
output eDP-1 {
    #bg fill
    mode 1920x1080@60Hz
}

### Gaps and Borders
default_border pixel 2
default_floating_border pixel 2
gaps inner 5
gaps outer 5
smart_gaps off
smart_borders on

### Window Colors (Tokyo Night)
client.focused          $accent $accent $bg $accent $green
client.focused_inactive $border $border $fg $border $border
client.unfocused        $border $border $fg $border $border
client.urgent           $urgent $urgent $bg $urgent $urgent
client.placeholder      $border $border $fg $border $border
client.background       $bg

### Floating Window Rules
for_window [window_role="pop-up"] floating enable
for_window [window_role="bubble"] floating enable
for_window [window_type="dialog"] floating enable
for_window [window_role="task_dialog"] floating enable
for_window [app_id="floating"] floating enable
for_window [title="Library"] floating enable   # Example for Bitwarden

### Startup Programs
exec swaync # Notification daemon
exec swaybg -i /home/thiago/Pictures/Wallpapers/wallpaper.png -m fill   # Wallpaper
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1   # Polkit agent
exec systemctl --user start waybar             # Waybar status bar

### Key Bindings
set $mod Mod4
set $left h
set $down j
set $up k
set $right l

bindsym $mod+Shift+n exec swaync-client -t

# Focus movement
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# Move focused window
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

# Split containers
bindsym $mod+s split h
bindsym $mod+v split v
bindsym $mod+t layout tabbed
# bindsym $mod+e layout toggle split

# Fullscreen and floating
bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+space floating toggle

# Focus parent/child
bindsym $mod+a focus parent
bindsym $mod+z focus child

# Workspace switching
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Move container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# Shortcurs
bindsym $mod+w exec firefox
bindsym $mod+e exec nemo

# Reload config
bindsym $mod+Shift+c reload

# Close focused window
bindsym $mod+q kill

# Exit sway
bindsym $mod+Shift+e exec swaynag -t warning -m 'Do you really want to exit sway?' -B 'Yes' 'swaymsg exit'

### Application Shortcuts
# Terminal (Ghostty)
bindsym $mod+Shift+Return exec ghostty

# Application Launcher (Fuzzel)
bindsym $mod+d exec fuzzel

# Screenshot (Grim + Slurp + wl-copy)
bindsym --release Print exec grim -g "$(slurp)" - | wl-copy
bindsym $mod+Print exec grim - | wl-copy
bindsym Shift+Print exec grim -g "$(slurp)" ~/Pictures/Screenshots/Screenshot_$(date +%Y%m%d_%H%M%S).png

### Media and System Controls
# Volume (wpctl)
bindsym XF86AudioRaiseVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioLowerVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym XF86AudioMute exec wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# Media Playback (playerctl)
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# Brightness (brightnessctl)
bindsym XF86MonBrightnessUp exec brightnessctl s +5%
bindsym XF86MonBrightnessDown exec brightnessctl s 5%-

### Misc includes
include /etc/sway/config.d/*
include ~/.config/sway/config.d/*
